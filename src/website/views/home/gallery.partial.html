<script>
    function navigateToHomePath(path, index) {
        const elements = path.split('/');
        const selectedLocation = elements.slice(0, index + 1).join('/');
        const webPath = `/home/?path=${selectedLocation}`;
        window.location.href = webPath;
    }
</script>
<div class="row row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-lg-6 row-cols-xl-8 gy-3">
    <template
        x-for="(file) in sortedBy(files, sorting, directoriesFirst, currentPage)"
        :key="file.name"
    >
        <div class="col">
            <file-card
                x-bind:filename="file.name"
                x-bind:file-type="file.fileType"
                x-bind:image-src="file.imageSrc"
                x-bind:root="root"
            ></file-card>
        </div>
    </template>
</div>
<div class="row">
    <paginate-control
        x-bind:page="currentPage"
        x-bind:max-pages="getNumPages(files)"
        @page-shift="evt => currentPage = setCurrentPage(evt.detail.page)"
    ></paginate-control>
</div>
